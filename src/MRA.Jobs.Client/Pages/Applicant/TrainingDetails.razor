@page "/trainings/{Slug}"
@using MRA.Jobs.Application.Contracts.TrainingVacancies.Responses;
@using MRA.Jobs.Application.Contracts.VacancyClient;
@using MRA.Jobs.Client.Identity;
@using Microsoft.AspNetCore.Components.Authorization;
@inject AuthenticationStateProvider provider
@inject ITrainingService _trainingService
@inject IApplicationService ApplicationService
@using MRA.Jobs.Client.Components.Vacancies

<VacancyDetails Slug="@Slug" vacancyDetails="@details" vacancy="trainings"/>


@code {
    [Parameter]
    public string Slug { get; set; }
    private VacancyDetailsResponse details;

    protected override async Task OnInitializedAsync()
    {
        var response = await _trainingService.GetBySlug(Slug);
        if (response is not null)
        {
            details = new VacancyDetailsResponse
                {
                    Title = response.Title,
                    Description = response.Description,
                    Duration = response.Duration,
                    EndDate = response.EndDate,
                    PublishDate = response.PublishDate,
                    Fees = response.Fees
                };
        }
    }
}