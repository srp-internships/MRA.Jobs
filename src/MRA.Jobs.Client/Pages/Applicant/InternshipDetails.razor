@page "/internships/{Slug}"
@using MRA.Jobs.Application.Contracts.VacancyClient;
@layout MainLayout
@inject NavigationManager NavigationManager
@inject IInternshipService InternshipService
@inject IApplicationService ApplicationService
@using MRA.Jobs.Client.Components.Vacancies

<VacancyDetails Slug="@Slug" vacancyDetails="@details" vacancy="internships"/>


@code {
    [Parameter]
    public string Slug { get; set; }
    private VacancyDetailsResponse details;

    protected override async Task OnInitializedAsync()
    {
        var response = await InternshipService.GetBySlug(Slug);
        if (response is not null)
        {
            details = new VacancyDetailsResponse
                {
                    Title = response.Title,
                    Description = response.Description,
                    Duration = response.Duration,
                    EndDate = response.EndDate,
                    PublishDate = response.PublishDate
                };
        }
    }
}