@page "/UserManager"

<MudGrid>
	@foreach (var user in _applicationUsers)
	{
		<MudItem sm="12" xs="12" lg="6">
			<MudCard>
				<MudCardHeader>
					<CardHeaderContent>
						<MudText Typo="Typo.h5"><b>@user.UserName</b></MudText>
					</CardHeaderContent>
				</MudCardHeader>
				<MudCardContent>
					<MudText>Full Name: <b>@user.FullName</b></MudText>
					<MudText>
						Email: <b>@user.Email</b>
						@if (user.EmailConfirmed)
						{
							<MudChip Variant="Variant.Text" Color="Color.Success" Icon="@Icons.Material.Filled.Check">Confirmed</MudChip>
						}
						else
						{
							<MudChip Variant="Variant.Text" Color="Color.Warning" Icon="@Icons.Material.Filled.Warning">Unconfirmed</MudChip>
						}
					</MudText>
					<MudText>
						Phone Number: <b>@user.PhoneNumber</b>
						@if (user.PhoneNumberConfirmed)
						{
							<MudChip Variant="Variant.Text" Color="Color.Success" Icon="@Icons.Material.Filled.Check">Confirmed</MudChip>
						}
						else
						{
							<MudChip Variant="Variant.Text" Color="Color.Warning" Icon="@Icons.Material.Filled.Warning">Unconfirmed</MudChip>
						}
					</MudText>
				</MudCardContent>
				<MudCardActions>
					@{
						var userRolesLink = $"/UserRoles/{user.UserName}";
						var userHistoryLink = $"/UserHistory/{user.UserName}";
						var userClaimsLink = $"/UserClaims/{user.UserName}";
					}
					<MatButton class="user-property" Link="@userRolesLink">Roles</MatButton>
					<MatButton class="user-property" Link="@userHistoryLink">History</MatButton>
				</MudCardActions>
			</MudCard>
		</MudItem>
	}
</MudGrid>