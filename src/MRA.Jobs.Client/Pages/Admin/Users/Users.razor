@page "/Administration/Users"
@page "/Administration/Candidates"
@using MRA.Jobs.Client.Identity

@inject NavigationManager NavigationManager

<AuthorizeView Policy="@ApplicationPolicies.Administrator">
    <Authorized>
        <MudText Typo="Typo.h5">
            <b>@_title</b>
        </MudText>
    </Authorized>
</AuthorizeView>

@code {

    private string _title = "Users";

    protected override async Task OnInitializedAsync()
    {
        SetTitlePage();
        NavigationManager.LocationChanged += HandleLocationChanged;
        await base.OnInitializedAsync();
    }

    private void HandleLocationChanged(object sender, LocationChangedEventArgs e)
    {
        SetTitlePage();
    }

    private void SetTitlePage()
    {
        if (NavigationManager.Uri.Contains("/Administration/Users", StringComparison.OrdinalIgnoreCase))
            _title = "Users";
        if (NavigationManager.Uri.Contains("/Administration/Candidates", StringComparison.OrdinalIgnoreCase))
            _title = "Candidates";
        StateHasChanged();
    }

}